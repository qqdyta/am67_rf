

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CC33xx Coexistence &mdash; CC33XX™ Linux User&#39;s Guide 01.00.00.03 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CC3301 BoosterPack Hardware User’s Guide" href="BP-CC3301_HW_UserGuide.html" />
    <link rel="prev" title="Driver Debug Guide" href="../CC33XX-linux/driver-debug-guide.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug CC33XX Coexistence";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav">
   <!---- extra body elements for TI beyond RTD Sphinx Theme --->
<div class="DocSite-globalNav tiNav">
    <ul>
    </ul>
</div>

<a class="DocSite-nav" href="https://www.ti.com" style="padding-bottom: 85px;">
  <img class="DocSiteNav-logo"
    src="../_static/img/ti_logo.png"
    alt="TI Logo">
  <div class="DocSiteNav-title"></div>
</a> 
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../CC33XX-linux/index-linux.html" class="icon icon-home" alt="Documentation Home"> CC33XX™ Linux User's Guide
          

          
          </a>

          
            
            
              <div class="version">
                01.00.00.03
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/intro-linux.html">Introduction to the CC33xx Linux Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/getting-started/getting-started-linux.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/getting-started/getting-started-linux.html#beaglebone-black-and-bp-cc3301">Beaglebone Black and BP-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/getting-started/getting-started-linux.html#sk-am62b-p1-and-m2-cc3301">SK-AM62B-P1 and M2-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/getting-started/getting-started-linux.html#i-mx-8m-plus-evaluation-kit-and-m2-cc3301">i.MX 8M Plus Evaluation Kit and M2-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/sw-examples/software-examples.html">Software Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/migration-guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/CC33conf-tool.html">CC33Conf Tool Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/calibrator-tool.html">Calibrator Tool Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/driver-debug-guide.html">Driver Debug Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CC33xx Coexistence</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packet-traffic-arbitration">Packet Traffic Arbitration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enabling-external-coexistence">Enabling External Coexistence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="BP-CC3301_HW_UserGuide.html">CC3301 BoosterPack Hardware User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33XX-linux/references.html">References</a></li>
</ul>

            
          
          <!-- extra nav elements for TI beyond RTD Sphinx Theme --->
<div id="sideBanner">
    <br/>
    <br/><br/><br/>
</div>
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../CC33XX-linux/index-linux.html">CC33XX™ Linux User's Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../CC33XX-linux/index-linux.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CC33xx Coexistence</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cc33xx-coexistence">
<h1>CC33xx Coexistence<a class="headerlink" href="#cc33xx-coexistence" title="Permalink to this headline">¶</a></h1>
<p>The 2.4-GHz band is used by many wireless communication standards and proprietary wireless
implementations. When two different entities use the same wireless band in close proximity, there must be a
coexistence mechanism to avoid significant degradation in performance.</p>
<p>The CC33xx implements a 3 wire Packet Traffic Arbitration (PTA) in order to manage a coexistence mechanism.</p>
<div class="section" id="packet-traffic-arbitration">
<h2>Packet Traffic Arbitration<a class="headerlink" href="#packet-traffic-arbitration" title="Permalink to this headline">¶</a></h2>
<p>The PTA mechanism provides a per packet authorization for all transmission and receptions, it
can be abstracted to a signal interface between the two devices, as illustrated in the figure below</p>
<div class="figure align-center" id="figure-1">
<img alt="../_images/ExternalPTAtiming.png" src="../_images/ExternalPTAtiming.png" />
<p class="caption"><span class="caption-number">Figure 17 </span><span class="caption-text">PTA (Packet Traffic Arbitration) Signals</span></p>
</div>
<p>In order to support time-shared signals, the coex feature is heavily dependent on accurate timing.</p>
<span id="my-table2"></span><table border="1" class="docutils" id="table-1">
<caption><span class="caption-number">Table 12 </span><span class="caption-text">PTA Timing</span><a class="headerlink" href="#table-1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="11%" />
<col width="51%" />
<col width="12%" />
<col width="12%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
<th class="head">Minimal (µs)</th>
<th class="head">Maximal (µs)</th>
<th class="head">Recommended (µs)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>T1</td>
<td>REQUEST signal is asserted by the external SoC (PTA slave).
REQUEST signal indicates to the CC33xx (PTA master) that the
coex slave will perform RF activity. This is a request for
access to the shared frequency band. T1 can be expected to be
in the range of 90-150 µs. In the timing diagram, this happens
at a time T1 before the BLE RX command is scheduled to run</td>
<td>90</td>
<td>150</td>
<td>120</td>
</tr>
<tr class="row-odd"><td>T2</td>
<td>PRIORITY signal is time-shared between indicating priority
and and type of CoEX entities RF activity (TX/RX) will do.
The time T2 indicates the duration of which the PRIORITY
signal indicates priority from the time the REQUEST signal is
asserted, and for a duration of 5- 20 µs. For the rest of the
request interaction, as long as the REQUEST signal is asserted
the PRIORITY signal indicates CoEX entities RF activity. The
PRIORITY signal can be modified, when REQUEST and GRANT signal
are asserted, only if there is no activity (TX or RX) and T4
before the next activity is started</td>
<td>5</td>
<td>20</td>
<td>20</td>
</tr>
<tr class="row-even"><td>T3</td>
<td>In a period before the scheduled RF activity, the CC33xx
(PTA master) will assert or de-assert the GRANT signal. This
is to indicate if the request from the external SoC,
asserted at T1, is granted or not. At period T3, 50-135 µs,
the GRANT signal is expected to be in a stable state. The
external SoC (PTA slave) will read the GRANT signal within the
T3 period, and use this value as the answer to the request.</td>
<td>50</td>
<td>T1-T2</td>
<td>80</td>
</tr>
<tr class="row-odd"><td>T4</td>
<td>The PRIORITY signal is time-shared, as explained under T2.
After T2, the PRIORITY signal indicates the type of RF
activity (and no longer priority). In the timing diagram, the
external SoC (PTA slave) asserts the PRIORITY signal at T4
before it transmits to indicate the change in type of activity
from RX to TX.The RX activity is indicated by de-asserting the
PRIORITY signal, and the TX activity is indicated by asserting
the PRIORITY signal</td>
<td>0</td>
<td>Idle</td>
<td>Idle</td>
</tr>
<tr class="row-even"><td>T5</td>
<td>After the coex slave is finished with the scheduled RF
activities, it will de-assert the REQUEST signal. This is how
the external SoC (PTA slave) indicates to the CC33xx that the
requested RF activity is finished. This will happen 0-25 µs
after the last RF activity</td>
<td>0</td>
<td>25</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="enabling-external-coexistence">
<h2>Enabling External Coexistence<a class="headerlink" href="#enabling-external-coexistence" title="Permalink to this headline">¶</a></h2>
<p>The Following steps are need to enable external coex on the CC33xx</p>
<ol class="arabic simple">
<li>Locate and open the ‘CC33xx-conf.ini’ file with a text editor</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cd /usr/sbin/cc33conf
vi cc33xx-conf.ini
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Add the following line to enable the External SoC entity</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Is_ExtSoC_Connected         = 01   # Yes/No Choose if External SoC entity is connected - 1 - YES, 0 - NO
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Other coex parameters can be modified depending on the application. See below</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ExtSoC_grant_polarity       = 01   # External SoC grant polarity - 0 - Active Low, 1 - Active High (Default)
ExtSoC_priority_polarity    = 01   # External SoC priority polarity - 0 - Active Low, 1 - Active High (Default)
ExtSoC_request_polarity     = 01   # External SoC request polarity - 0 - Active Low, 1 - Active High (Default)
ExtSoC_min_grant_time       = 96   # 150 in decimal, Minimum grant time for External SoC
ExtSoC_max_grant_time       = 3fff # 16383 in decimal, Maximum available grant time for External SoC
ExtSoC_t2_time              = 05   # T2 time for External SoC
ExtSoC_to_wifi_grant_delay  = 1e   # 30 in decimal, Maximum time for changing the grant from External SoC to WiFi
ExtSoC_to_ble_grant_delay   = 23   # 35 in decimal, Maximum time for changing the grant from External SoC to BLE
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Build new ‘cc33xx-conf.bin’ with the new configuration. This new file will need to be moved to the firmware location.</li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./cc33xxconf -D
./cc33xxconf -I cc33xx-conf.ini -X
cp cc33xx-conf.bin /lib/firmware/ti-connectivity/cc33xx-conf.bin
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Reboot the device with the new ‘cc33xx-conf.bin’.</li>
</ol>
<p>For more information please reference the <a class="reference external" href="../CC33XX-linux/CC33conf-tool.html">Conf Tool Guide</a></p>
<span id="my-table3"></span><table border="1" class="docutils align-center" id="table-2">
<caption><span class="caption-number">Table 13 </span><span class="caption-text">Boosterpack Coex Pins</span><a class="headerlink" href="#table-2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Pin</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>REQUEST</td>
<td>P1.29</td>
</tr>
<tr class="row-odd"><td>PRIORITY</td>
<td>P1.30</td>
</tr>
<tr class="row-even"><td>GRANT</td>
<td>P1.9</td>
</tr>
</tbody>
</table>
<p>For a detailed view of the pin layout please reference the <a class="reference external" href="BP-CC3301_HW_UserGuide.html">BoosterPack User Guide</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="BP-CC3301_HW_UserGuide.html" class="btn btn-neutral float-right" title="CC3301 BoosterPack Hardware User’s Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../CC33XX-linux/driver-debug-guide.html" class="btn btn-neutral float-left" title="Driver Debug Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">2023, Texas Instruments</a>, Texas Instruments Incorporated. All rights reserved. <br>
        <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>