

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>i.MX 8M Plus Evaluation Kit and M2-CC3301 &mdash; CC33XX™ Linux User&#39;s Guide 01.00.00.03 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug CC33XX-linux getting-started imx8mp";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav">
   <!---- extra body elements for TI beyond RTD Sphinx Theme --->
<div class="DocSite-globalNav tiNav">
    <ul>
    </ul>
</div>

<a class="DocSite-nav" href="https://www.ti.com" style="padding-bottom: 85px;">
  <img class="DocSiteNav-logo"
    src="../../_static/img/ti_logo.png"
    alt="TI Logo">
  <div class="DocSiteNav-title"></div>
</a> 
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index-linux.html" class="icon icon-home" alt="Documentation Home"> CC33XX™ Linux User's Guide
          

          
          </a>

          
            
            
              <div class="version">
                01.00.00.03
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro-linux.html">Introduction to the CC33xx Linux Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started-linux.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started-linux.html#beaglebone-black-and-bp-cc3301">Beaglebone Black and BP-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started-linux.html#sk-am62b-p1-and-m2-cc3301">SK-AM62B-P1 and M2-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started-linux.html#i-mx-8m-plus-evaluation-kit-and-m2-cc3301">i.MX 8M Plus Evaluation Kit and M2-CC3301</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sw-examples/software-examples.html">Software Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CC33conf-tool.html">CC33Conf Tool Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calibrator-tool.html">Calibrator Tool Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-debug-guide.html">Driver Debug Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CC33XX/Coexistence.html">CC33xx Coexistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CC33XX/BP-CC3301_HW_UserGuide.html">CC3301 BoosterPack Hardware User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

            
          
          <!-- extra nav elements for TI beyond RTD Sphinx Theme --->
<div id="sideBanner">
    <br/>
    <br/><br/><br/>
</div>
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index-linux.html">CC33XX™ Linux User's Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index-linux.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>i.MX 8M Plus Evaluation Kit and M2-CC3301</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="i-mx-8m-plus-evaluation-kit-and-m2-cc3301">
<h1>i.MX 8M Plus Evaluation Kit and M2-CC3301<a class="headerlink" href="#i-mx-8m-plus-evaluation-kit-and-m2-cc3301" title="Permalink to this headline">¶</a></h1>
<div class="section" id="evaluation-hardware">
<span id="imx8mp-hardware"></span><h2>Evaluation Hardware<a class="headerlink" href="#evaluation-hardware" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://www.nxp.com/design/development-boards/i-mx-evaluation-and-development-boards/evaluation-kit-for-the-i-mx-8m-plus-applications-processor:8MPLUSLPD4-EVK">IMX8MPLUSLPD4-EVK</a></li>
<li><a class="reference external" href="https://www.ti.com/tool/M2-CC3301">M2-CC3301</a></li>
<li>USB-C Power Supply (included in i.MX8 Evaluation Kit)</li>
<li>microUSB Cable (included in i.MX8 Evaluation Kit)</li>
<li>32GB microSD Card</li>
</ul>
</div>
<div class="section" id="i-mx-8m-plus-setup">
<h3>i.MX 8M Plus Setup<a class="headerlink" href="#i-mx-8m-plus-setup" title="Permalink to this headline">¶</a></h3>
<p>A slight hardware modification is necessary for the M2-CC3301 to operate correctly
with the i.MX 8MP EVK. R33 on the i.MX EVK needs to be removed and R36 must be inserted.
This change allows the 3.3V power supply on the M.2 connector to always be on.
These two resistors are found on the back of the board next to the M.2 Key-E connector.
See the schematic below.</p>
<div class="figure align-center" id="imx8schem">
<a class="reference internal image-reference" href="../../_images/9_imx8mp-sch-resistor.PNG"><img alt="../../_images/9_imx8mp-sch-resistor.PNG" src="../../_images/9_imx8mp-sch-resistor.PNG" style="width: 349.2px; height: 120.0px;" /></a>
<p class="caption"><span class="caption-text">i.MX8 MP Schematic Snippet</span></p>
</div>
<p>After this modification, plug in the M2-CC3301 into the M.2 Key E
connector on the back of the board.</p>
</div>
</div>
<div class="section" id="evaluation-software">
<h2>Evaluation Software<a class="headerlink" href="#evaluation-software" title="Permalink to this headline">¶</a></h2>
<p>The following steps describe how to prepare a micro SD card with the CC33XX driver.</p>
<ol class="arabic">
<li><p class="first">Flash the microSD card with the prebuilt imx8mp WIC image from NXP: <a class="reference external" href="https://www.nxp.com/webapp/Download?colCode=L6.1.36_2.1.0_MX8MP&amp;appType=license">https://www.nxp.com/webapp/Download?colCode=L6.1.36_2.1.0_MX8MP&amp;appType=license</a></p>
<ul class="simple">
<li>For more information on NXP’s prebuilt images, follow this guide: <a class="reference external" href="https://www.nxp.com/document/guide/getting-started-with-the-i-mx-8m-plus-evk:GS-iMX-8M-Plus-EVK?section=embedded-linux">https://www.nxp.com/document/guide/getting-started-with-the-i-mx-8m-plus-evk:GS-iMX-8M-Plus-EVK?section=embedded-linux</a></li>
</ul>
</li>
<li><p class="first">On a Linux-based host PC, clone the i.MX Linux Kernel repository and checkout the <code class="docutils literal notranslate"><span class="pre">lf-6.1.y</span></code> branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone -b lf-6.1.y https://github.com/nxp-imx/linux-imx.git
$ <span class="nb">cd</span> linux-imx/
</pre></div>
</div>
</li>
<li><p class="first">Patch the i.MX linux kernel with the CC33XX driver and DTS patches:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ patch -p0 &lt; &lt;path_to_cc33xx_folder&gt;/patches/cc33xx_kernel.patch
$ patch -p0 &lt; &lt;path_to_cc33xx_folder&gt;/patches/cc33xx_imx8mp_dts.patch
</pre></div>
</div>
</li>
<li><p class="first">Build the kernel, modules, and devicetree:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make <span class="nv">ARCH</span><span class="o">=</span>arm64 <span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-linux-gnu- imx_v8_defconfig
$ make <span class="nv">ARCH</span><span class="o">=</span>arm64 <span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-linux-gnu- Image modules dtbs -j8
</pre></div>
</div>
</li>
<li><p class="first">Plug the SD card into the Ubuntu machine and install the kernel, modules, and DTBs on to the SD card:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo cp arch/arm64/boot/Image /media/&lt;user&gt;/root/boot/
$ sudo cp arch/arm64/boot/Image /media/&lt;user&gt;/boot/
$ sudo cp arch/arm64/boot/dts/freescale/imx8mp-evk-usdhc1-m2.dtb /media/&lt;user&gt;/root/boot/
$ sudo cp arch/arm64/boot/dts/freescale/imx8mp-evk-usdhc1-m2.dtb /media/&lt;user&gt;/boot/
<span class="c1"># Be sure to paste the Image and DTB into both locations, for safety</span>
$ sudo make <span class="nv">ARCH</span><span class="o">=</span>arm64 modules_install <span class="nv">INSTALL_MOD_PATH</span><span class="o">=</span>/media/&lt;user&gt;/root
</pre></div>
</div>
</li>
<li><p class="first">Install the CC33XX firmware and example scripts by copying the contents under
“cc33xx_rootfs” into the SD card’s root directory.</p>
</li>
<li><p class="first">Eject the SD card from the host PC and plug it into the i.MX8MP EVK. Apply the
USB-C power supply and open a serial terminal with baudrate 115200.</p>
</li>
<li><p class="first">Enter the U-Boot command line by pressing any button on device bringup. The command line
will then look at the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Hit any key to stop autoboot:  <span class="m">0</span>
u-boot<span class="o">=</span>&gt;
</pre></div>
</div>
</li>
<li><p class="first">Enter the following U-Boot commands. The output of these commands is also shown:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>u-boot<span class="o">=</span>&gt; setenv fdtfile imx8mp-evk-usdhc1-m2.dtb
u-boot<span class="o">=</span>&gt; saveenv
Saving Environment to MMC... Writing to MMC<span class="o">(</span><span class="m">0</span><span class="o">)</span>... OK
u-boot<span class="o">=</span>&gt; reset
resetting ...
</pre></div>
</div>
</li>
<li><p class="first">After the linux kernel boots, the CC33XX driver should now be loaded and the <code class="docutils literal notranslate"><span class="pre">wlan0</span></code> interface should
be shown in the output of <code class="docutils literal notranslate"><span class="pre">ifconfig</span></code>. For example scripts, refer to <a class="reference internal" href="../sw-examples/software-examples.html#linux-sw-examples"><span class="std std-ref">WiFi Fundamentals</span></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ifconfig wlan0
wlan0: <span class="nv">flags</span><span class="o">=</span><span class="m">4099</span>&lt;UP,BROADCAST,MULTICAST&gt;  mtu <span class="m">1500</span>
        ether a4:34:f1:b1:62:92  txqueuelen <span class="m">1000</span>  <span class="o">(</span>Ethernet<span class="o">)</span>
        RX packets <span class="m">0</span>  bytes <span class="m">0</span> <span class="o">(</span><span class="m">0</span>.0 B<span class="o">)</span>
        RX errors <span class="m">0</span>  dropped <span class="m">0</span>  overruns <span class="m">0</span>  frame <span class="m">0</span>
        TX packets <span class="m">0</span>  bytes <span class="m">0</span> <span class="o">(</span><span class="m">0</span>.0 B<span class="o">)</span>
        TX errors <span class="m">0</span>  dropped <span class="m">0</span> overruns <span class="m">0</span>  carrier <span class="m">0</span>  collisions <span class="m">0</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">2023, Texas Instruments</a>, Texas Instruments Incorporated. All rights reserved. <br>
        <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>